"use strict";(self.webpackChunkexpense_tracker_live=self.webpackChunkexpense_tracker_live||[]).push([[164],{2653:function(e,s,t){t.d(s,{Z:function(){return r}});t(2791);var n=t(9434),a=t(184);function r(e){var s=e.title,t=e.children,r=(0,n.v9)((function(e){return e.theme.themeDefault}));return(0,a.jsxs)("div",{className:"card ".concat(!0===r?"":"text-white bg-dark"),children:[(0,a.jsx)("h5",{className:"card-header",children:s}),(0,a.jsx)("div",{className:"card-body",children:t})]})}},5829:function(e,s,t){t.d(s,{Z:function(){return a}});t(2791);var n=t(184);function a(e){var s=e.title;return(0,n.jsxs)("button",{className:"btn btn-primary",type:"button",disabled:!0,children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,n.jsxs)("span",{className:"visually-hidden",children:[s,"..."]})]})}},5164:function(e,s,t){t.r(s),t.d(s,{default:function(){return v}});var n=t(885),a=t(2791),r=t(7689),i=t(1087),o=t(3105),l=t(2653),c=t(3064),d=t(5829),u=t(4342),m=t(184),h=function(e){return e.includes("@")};function p(e){var s=e.reset,t=(0,a.useState)(!1),r=(0,n.Z)(t,2),i=r[0],p=r[1],g=(0,a.useContext)(c.R),x=g.isMessage,f=g.setIsMessage,b=g.isToaster,v=g.setIsToaster,j=(0,a.useState)(!0),y=(0,n.Z)(j,2),N=y[0],k=y[1],S=(0,o.Z)(h),C=S.value,T=S.isValid,w=S.hasError,Z=S.inputChangeHandler,I=S.onBlurHandler,E=S.reset,P=!1;T&&(P=!0);var H={requestType:"PASSWORD_RESET",email:C};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"container login",children:[(0,m.jsx)(l.Z,{title:"Login",children:(0,m.jsxs)("form",{onSubmit:function(e){k(!1),p(!0),e.preventDefault(),P?(p(!0),fetch("https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyCJx5BaRP2wpkK7EusD5XYqdvO-F3eTyQs",{method:"POST",body:JSON.stringify(H),heders:{"Content-Type":"application/json"}}).then((function(e){return k(!0),p(!1),e.ok?(f({message:"You have successfully Logged in",type:"success"}),v(!0),E(),e.json()):e.json().then((function(e){f({message:"Email or Password is wrong",type:"danger"}),v(!0)}))})).then((function(e){localStorage.setItem("auth_token",e.idToken),localStorage.setItem("email",e.email)}))):(k(!0),p(!1),I())},children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,m.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",value:C,onChange:Z,onBlur:I}),(0,m.jsx)("div",{id:"login-error",className:"form-text",children:w&&"Please enter a valid email address"})]}),N&&(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),i&&(0,m.jsx)(d.Z,{})]})}),b&&(0,m.jsx)(u.Z,{message:x.message,type:x.type})]}),(0,m.jsx)("div",{className:"mx-auto",style:{textAlign:"center",paddingTop:"3rem"},children:(0,m.jsxs)("span",{className:"border border-primary p-3",children:[(0,m.jsx)("span",{style:{color:"blue",cursor:"pointer",textDecoration:"underline"},onClick:function(){return s(!1)},children:"Click here"}),"to login"]})})]})}var g=t(9434),x=t(8013),f=function(e){return e.includes("@")},b=function(e){return e.length>6};function v(){var e=(0,r.s0)(),s=(0,a.useState)(!1),t=(0,n.Z)(s,2),h=t[0],v=t[1],j=(0,a.useContext)(c.R),y=j.isMessage,N=j.setIsMessage,k=j.isToaster,S=j.setIsToaster,C=(0,a.useState)(!0),T=(0,n.Z)(C,2),w=T[0],Z=T[1],I=(0,a.useState)(!1),E=(0,n.Z)(I,2),P=E[0],H=E[1],B=(0,g.I0)(),D=(0,o.Z)(f),F=D.value,O=D.isValid,R=D.hasError,_=D.inputChangeHandler,L=D.onBlurHandler,A=D.reset,V=(0,o.Z)(b),J=V.value,M=V.isValid,Y=V.inputChangeHandler,q=V.onBlurHandler,z=V.reset,K=!1;O&&M&&(K=!0);var Q={email:F,password:J,returnSecureToken:!0};var W=(0,g.v9)((function(e){return e.auth}));return console.log(W),(0,m.jsxs)(m.Fragment,{children:[!P&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"container login",children:[(0,m.jsx)(l.Z,{title:"Login",children:(0,m.jsxs)("form",{onSubmit:function(s){Z(!1),v(!0),s.preventDefault(),K?(v(!0),fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCJx5BaRP2wpkK7EusD5XYqdvO-F3eTyQs",{method:"POST",body:JSON.stringify(Q),heders:{"Content-Type":"application/json"}}).then((function(s){return Z(!0),v(!1),s.ok?(N({message:"You have successfully Logged in",type:"success"}),S(!0),A(),z(),e("/home"),s.json()):s.json().then((function(e){N({message:"Email or Password is wrong",type:"danger"}),S(!0)}))})).then((function(e){B((0,x.x4)({isLoggedIn:!0,jwtToken:e.idToken,userEmail:e.email})),localStorage.setItem("auth_token",e.idToken),localStorage.setItem("email",e.email)}))):(Z(!0),v(!1),L(),q())},children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,m.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",value:F,onChange:_,onBlur:L}),(0,m.jsx)("div",{id:"login-error",className:"form-text",children:R&&"Please enter a valid email address"})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,m.jsx)("input",{type:"password",className:"form-control",id:"password",value:J,onChange:Y,onBlur:q})]}),w&&(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),h&&(0,m.jsx)(d.Z,{})]})}),k&&(0,m.jsx)(u.Z,{message:y.message,type:y.type})]}),(0,m.jsxs)("div",{className:"mx-auto",style:{textAlign:"center",paddingTop:"3rem"},children:[(0,m.jsxs)("span",{className:"border border-primary p-3",children:["Don't have an account? ",(0,m.jsx)(i.OL,{to:"/signup",children:"Signup"})]}),(0,m.jsxs)("span",{className:"border border-primary p-3",children:["Frogot Password??",(0,m.jsx)("span",{style:{color:"blue",cursor:"pointer",textDecoration:"underline"},onClick:function(){return H(!0)},children:"Click here"}),"to reset!"]})]})]}),P&&(0,m.jsx)(p,{reset:function(){return H(!1)}})]})}},4342:function(e,s,t){t.d(s,{Z:function(){return i}});var n=t(2791),a=t(3064),r=t(184);function i(e){var s=e.message,t=e.type,i=(0,n.useContext)(a.R),o=i.setIsToaster,l=i.isToaster;return(0,n.useEffect)((function(){l&&setInterval((function(){o(!1)}),5e3)}),[l,o]),(0,r.jsx)("div",{className:"toast show align-items-center text-white bg-".concat(t," border-0 position-absolute top-50 end-0"),role:"alert","aria-live":"assertive","aria-atomic":"true",children:(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{class:"toast-body",children:s}),(0,r.jsx)("button",{type:"button",className:"btn-close btn-close-white  me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close",onClick:function(){o(!1)}})]})})}},3105:function(e,s,t){t.d(s,{Z:function(){return r}});var n=t(885),a=t(2791);function r(e){var s=(0,a.useState)(""),t=(0,n.Z)(s,2),r=t[0],i=t[1],o=(0,a.useState)(!1),l=(0,n.Z)(o,2),c=l[0],d=l[1],u=e(r);return{value:r,isValid:u,hasError:!u&&c,inputChangeHandler:function(e){i(e.target.value)},onBlurHandler:function(e){d(!0)},setEnteredValue:i,reset:function(){i(""),d("")}}}}}]);
//# sourceMappingURL=164.4b6bbeb4.chunk.js.map